:root{
  --bg:#0b1020;
  --card:#121a33;
  --card2:#0f1630;

  --text:#eaf0ff;
  --muted:rgba(234,240,255,.72);
  --border:rgba(234,240,255,.12);

  --accent:#8bf;
  --ok:#3ddc97;
  --danger:#ff6b6b;
  --warn:#ffd37a;

  --shadow:0 14px 45px rgba(0,0,0,.35);
  --radius-lg:18px;
  --radius-md:14px;
  --radius-pill:999px;

  --gap:14px;
  --max:1240px;

  /* nicer interaction */
  --ring: 0 0 0 3px rgba(140,200,255,.35);
  --glass: rgba(255,255,255,.06);
  --glass2: rgba(255,255,255,.035);

  --font-title: clamp(18px, 1.6vw, 24px);
  --font-body: 14px;
  --font-small: 12px;

*{ box-sizing:border-box; }
html,body{ height:100%; }

body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,
    "Apple Color Emoji", "Segoe UI Emoji";
  background:
    linear-gradient(120deg, #101a36 0%, #22577A 40%, #38A3A5 100%),
    url("/chip-background.jpg") repeat center center / 30%,
    var(--bg);
  background-blend-mode: multiply, normal;
  color: var(--text);
  overflow-x: hidden;
  text-rendering: geometricPrecision;
  font-size: var(--font-body);
  line-height: 1.6;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  color: var(--accent);
  text-decoration: none;
  transition: color 0.15s;
}
a:hover, a:focus {
  text-decoration: underline;
  color: #fff;
}

.container {
  width: 100vw !important;
  max-width: 100vw !important;
  margin: 0 !important;
  padding: 5px !important;
  overflow-x: visible !important;
}

.fullWidthRoom {
  width: 100vw !important;
  min-width: 100vw !important;
  max-width: 100vw !important;
  margin: 0 !important;
  padding: 0 !important;
  overflow-x: visible !important;
}

@media (min-width: 900px){
  .container{ padding: 22px 18px 90px; }
}

/* Utility */
.row{ display: flex; gap: 14px; flex-wrap: wrap; align-items: center; }
.spacer { height: 18px; }
.muted { color: var(--muted); }
.small { font-size: var(--font-small); }

/* Base card */
.card {
  background: linear-gradient(180deg, var(--card) 0%, var(--card2) 100%);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 20px 18px;
  box-shadow: var(--shadow);
  transition: box-shadow 0.18s, border-color 0.18s;
}
.card h2, .card h3 { margin: 0 0 12px; }

/* Inputs */
input, button, select {
  min-height: 44px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  padding: 0 14px;
  outline: none;
  font-size: 16px;
  transition: box-shadow 0.15s, border-color 0.15s, background 0.15s;
}

input::placeholder{ color: rgba(234,240,255,0.45); }

:focus-visible{
  outline: none;
  box-shadow: var(--ring);
  border-color: rgba(140,200,255,.35);
}

button {
  cursor: pointer;
  background: rgba(139,187,255,0.18);
  border: 1px solid rgba(139,187,255,0.35);
  transition: transform .08s, background .15s, border-color .15s, filter .15s;
  box-shadow: 0 10px 22px rgba(0,0,0,.22);
  font-size: 16px;
  font-weight: 700;
  letter-spacing: 0.02em;
  padding: 0 18px;
}
button:focus {
  box-shadow: var(--ring);
  border-color: var(--accent);
}
button:hover {
  background: rgba(139,187,255,0.26);
  filter: brightness(1.08);
}
button:active {
  transform: translateY(2px);
}

button.primary{
  background: rgba(61,220,151,0.18);
  border-color: rgba(61,220,151,0.35);
}
button.primary:hover{ background: rgba(61,220,151,0.26); }

button.danger{
  background: rgba(255,107,107,0.16);
  border-color: rgba(255,107,107,0.35);
}
button.danger:hover{ background: rgba(255,107,107,0.22); }

button.good{
  background: rgba(61,220,151,0.10);
  border-color: rgba(61,220,151,0.50);
}

button:disabled{
  opacity:.55;
  cursor:not-allowed;
  transform:none;
  filter:none;
  box-shadow:none;
}

/* Mobile-friendly CTA rows */
.ctaRow{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  margin-top:10px;
}
@media (max-width: 520px){
  .ctaRow{
    flex-direction: column;
    align-items: stretch;
  }
  .ctaRow > *{ width:100%; }
}

/* Badges / timer */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 14px;
  border: 1px solid var(--border);
  border-radius: var(--radius-pill);
  font-size: 13px;
  background: rgba(255,255,255,0.07);
  white-space: nowrap;
  font-weight: 700;
}

.timer {
  width: 100%;
  height: 12px;
  border-radius: var(--radius-pill);
  background: rgba(255,255,255,0.10);
  overflow: hidden;
  border: 1px solid var(--border);
}
.timer > div {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, rgba(139,187,255,0.80), rgba(61,220,151,0.60));
  transition: width .2s linear;
}

/* Panels */
.panel{
  border-radius: var(--radius-lg);
  padding: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(10,18,32,0.96);
  box-shadow: 0 10px 36px rgba(0,0,0,0.32);
}

@media (max-width: 520px){
  .panel{ padding: 14px; }
}

.panelHeader{
  display:flex;
  justify-content:space-between;
  align-items:baseline;
  gap:10px;
  margin-bottom: 10px;
}
.panelHeader h3{ margin:0; }

.callout{
  border-color: rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.03);
}

/* Phase banner */
.phaseBanner{
  border-radius: var(--radius-lg);
  padding: 16px 16px 12px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  display:flex;
  flex-direction:column;
  gap:12px;
}

.phaseBanner.intent-think{ background: rgba(120,160,255,0.08); }
.phaseBanner.intent-act{ background: rgba(120,255,190,0.08); }
.phaseBanner.intent-resolve{ background: rgba(255,210,120,0.08); }

.phaseBannerTop{
  display:flex;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}
.phaseTitle{
  font-size: var(--font-title);
  font-weight: 950;
  letter-spacing: .2px;
}
.phaseSubtitle{ opacity:.82; margin-top: 2px; }
.phaseBadges{ display:flex; gap: 8px; flex-wrap:wrap; align-items:center; }

/* Stepper */
.stepper{
  display:flex;
  gap:10px;
  overflow:auto;
  padding-bottom:6px;
  scrollbar-width: thin;
}
.step{
  display:flex;
  align-items:center;
  gap:6px;
  padding: 7px 10px;
  border-radius: var(--radius-pill);
  border: 1px solid rgba(255,255,255,0.08);
  opacity:.62;
  white-space:nowrap;
  background: rgba(255,255,255,0.03);
}
.step .dot{ width:8px; height:8px; border-radius:99px; background: rgba(255,255,255,0.35); }
.step .label{ font-size:12px; opacity:.92; }
.step.active{ opacity:1; border-color: rgba(255,255,255,0.18); }
.step.active .dot{ background: rgba(255,255,255,0.92); }
.step.done{ opacity:.88; }
.step.done .dot{ background: rgba(61,220,151,0.9); }

/* Question + inputs */
.questionText{
  font-size: 18px;
  font-weight: 900;
  line-height: 1.25;
}
@media (max-width: 520px){
  .questionText{ font-size: 16px; }
}

.answerInput{ width: 260px; max-width: 100%; }

.hostRow{ display:flex; gap:10px; align-items:center; margin-top:10px; flex-wrap:wrap; }

/* Players */
.playerList{ display:flex; flex-direction:column; gap:8px; margin-top:10px; }

.playerRow{
  display:flex;
  justify-content:space-between;
  gap:10px;
  padding: 10px 12px;
  border-radius: var(--radius-md);
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(255,255,255,0.03);
}
.playerRow.me{
  border-color: rgba(140,200,255,0.22);
  background: rgba(140,200,255,0.06);
}

.playerName{
  font-weight: 800;
  display:flex;
  align-items:center;
  gap: 8px;
}
.playerPts{ opacity:.88; }

.colorDot{
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: var(--dot, #4CC9F0);
  box-shadow: 0 0 0 2px rgba(255,255,255,0.10);
}

/* Status pills */
.statusStack{ display:flex; flex-direction:column; gap:8px; margin-top:10px; }

.statusPill{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding: 9px 10px;
  border-radius: var(--radius-pill);
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
  font-size: 13px;
}
.statusPill.ok{
  border-color: rgba(120,255,190,0.22);
  background: rgba(120,255,190,0.08);
}

/* Bet editor grid */
.betEditorGrid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
  margin-top: 12px;
}
@media (max-width: 700px){
  .betEditorGrid{ grid-template-columns: 1fr; }
}

.miniPanel{
  border-radius: 14px;
  padding: 12px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.12);
}
.miniPanel.active{
  border-color: rgba(140,200,255,0.22);
  background: rgba(140,200,255,0.06);
}
.miniHeader{
  display:flex;
  justify-content:space-between;
  align-items:baseline;
  gap:10px;
  margin-bottom: 10px;
}

.bigNumber{ font-size: 22px; font-weight: 950; margin-top: 6px; }

/* ---------------- Betting Mat (THE GOOD VERSION: scrollable board) ---------------- */
.matWrap {
  position: relative;
  width: 100vw;
  max-width: 100vw;
  overflow-x: visible;
  overflow-y: visible;
  padding-bottom: 12px;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
}

/* You should wrap .mat in <div class="matScroll"> ... </div> */
.matScroll{
  overflow-x:auto;
  overflow-y:hidden;
  padding-bottom: 10px;
  -webkit-overflow-scrolling: touch;
  border-radius: 16px;
  scrollbar-width: thin;
}

/* edge fades so it looks intentional */
.matScroll::before,
.matScroll::after{
  content:"";
  position: relative;
  width: 100vw;
  max-width: 100vw;
  overflow-x: visible;
  overflow-y: visible;
  padding-bottom: 12px;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  background: rgba(10,18,32,0.96);
  border-radius: 18px;
  box-shadow: 0 10px 36px rgba(0,0,0,0.32);
  border: 1px solid rgba(255,255,255,0.12);
  padding-top: 18px;
  padding-bottom: 24px;
  box-sizing: border-box;
}
.matScroll::after{
  right: 0;
  /* background: linear-gradient(270deg, rgba(11,16,32,0.95), rgba(11,16,32,0)); */
}

.mat {
  width: 100vw;
  min-width: 100vw;
  max-width: 100vw;
  display: grid;
  gap: 24px;
  align-items: stretch;
  grid-template-columns: repeat(11, 1fr);
  padding: 12px 8px;
  margin: 0 auto;
  background: rgba(10, 18, 32, 0.92);
  border-radius: 18px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.18);
}

/* Make the betting mat panel flush and full-width */
.matWrap + .panel,
.matWrap .panel {
  margin: 0;
  padding: 0;
  border-radius: 0 0 18px 18px;
  background: transparent;
  box-shadow: none;
}
}
@media (max-width: 900px) {
  .mat {
    gap: 12px;
    grid-template-columns: repeat(11, 1fr);
    padding: 8px 2px;
  }
}

.slot {
  min-height: 260px;
  border-radius: 18px;
  border: 2px dashed rgba(234,240,255,0.22);
  background: linear-gradient(180deg, rgba(255,255,255,0.07), rgba(0,0,0,0.18));
  padding: 18px 12px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  transition: transform .10s, background .18s, border-color .18s;
  box-shadow: 0 4px 18px rgba(0,0,0,0.10);
}
.slot.clickable {
  cursor: pointer;
  border-color: var(--accent);
  background: linear-gradient(180deg, #fff2 0%, #4CC9F0 100%);
}
.slot.locked{ opacity: .92; }
.slot.mine {
  border-style: solid;
  border-color: var(--ok);
  background: rgba(61,220,151,0.10);
}
.slot.win {
  border-style: solid;
  border-color: var(--ok);
  background: rgba(61,220,151,0.18);
}

.markerRow {
  display: flex;
  gap: 14px;
  flex-wrap: wrap;
  justify-content: flex-start;
  margin-top: 6px;
}

.betChip {
  --chipColor: #4CC9F0;
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 999px;
  border: 2px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.09);
  box-shadow: 0 4px 12px rgba(0,0,0,0.18);
  font-size: 14px;
  font-weight: 950;
  transition: box-shadow 0.15s, border-color 0.15s, background 0.15s;
}
.betChip.me {
  border-color: var(--accent);
  background: rgba(139,187,255,0.14);
}
.betChip.active {
  outline: 3px solid var(--accent);
  outline-offset: 2px;
  background: rgba(139,187,255,0.22);
  box-shadow: 0 0 0 6px rgba(139,187,255,0.10);
}
.betChipIcon {
  width: 26px;
  height: 26px;
  color: var(--chipColor);
  filter: drop-shadow(0 2px 6px rgba(0,0,0,0.35));
}
.betChipInitials {
  opacity: 0.98;
  letter-spacing: 0.45px;
  font-size: 15px;
  font-weight: 900;
}
.betChipNum {
  width: 22px;
  height: 22px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 2px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.22);
  font-size: 13px;
  font-weight: 900;
}
.betChipStake {
  display: flex;
  gap: 4px;
  align-items: center;
  margin-left: 8px;
  background: rgba(255,255,255,0.07);
  border-radius: 8px;
  padding: 2px 8px 2px 6px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.10);
  font-size: 13px;
}
.betChipStake .chip {
  font-size: 13px;
  padding: 2px 8px;
  font-weight: 800;
  border-radius: 8px;
  box-shadow: none;
  opacity: 0.92;
  border: none;
  background: linear-gradient(90deg, var(--chipColor, #4CC9F0) 80%, #fff2 100%);
}
.betChipStake .chip.red { background: linear-gradient(90deg, #F72585 80%, #fff2 100%); color: #fff; }
.betChipStake .chip.blue { background: linear-gradient(90deg, #4CC9F0 80%, #fff2 100%); color: #fff; }
.betChipStake .chip.green { background: linear-gradient(90deg, #3ddc97 80%, #fff2 100%); color: #fff; }
.betChipStake .chipCount {
  margin-left: 2px;
  font-weight: 900;
  color: #fff;
  font-size: 13px;
}
.betChipExtra {
  color: var(--ok);
  font-weight: 950;
  font-size: 13px;
  padding-left: 6px;
  display: flex;
  align-items: center;
  gap: 4px;
  background: none;
}

/* Overlay when mat disabled */
.matWrap.disabled{ position: relative; }
.matOverlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius: 16px;
  background: rgba(0,0,0,0.35);
  border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  font-weight: 950;
  color: rgba(234,240,255,0.92);
  pointer-events: none;
}

.chip {
  display: inline-block;
  font-weight: 700;
  font-size: 15px;
  padding: 2px 10px;
  border-radius: 999px;
  margin-right: 4px;
  color: #fff;
}
.chip.red {
  background: #F72585;
  color: #fff;
  border: 2px solid #F72585;
}
.chip.blue {
  background: #4CC9F0;
  color: #fff;
  border: 2px solid #4CC9F0;
}
.chip.green {
  background: #3ddc97;
  color: #fff;
  border: 2px solid #3ddc97;
}

.stakeLegend {
  display: flex;
  gap: 18px;
  align-items: center;
  margin-bottom: 8px;
  font-size: 15px;
  color: var(--muted);
  flex-wrap: wrap;
  background: rgba(255,255,255,0.04);
  border-radius: 12px;
  padding: 8px 14px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
.stakeLegend .chip {
  margin-right: 6px;
  font-size: 16px;
  padding: 3px 14px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.10);
}
.stakeLegend .chip.red { background: #F72585; border-color: #F72585; }
.stakeLegend .chip.blue { background: #4CC9F0; border-color: #4CC9F0; }
.stakeLegend .chip.green { background: #3ddc97; border-color: #3ddc97; }
.stakeLegend .chip + .chip { margin-left: 6px; }
.stakeLegend .chipCount {
  font-weight: 900;
  font-size: 16px;
  margin-left: 2px;
  margin-right: 10px;
  color: #fff;
  background: rgba(0,0,0,0.10);
  border-radius: 8px;
  padding: 2px 8px;
  display: inline-block;
}
.stakeLegend .youHave {
  margin-left: 24px;
  font-weight: 700;
  color: #fff;
  font-size: 15px;
  letter-spacing: 0.02em;
  display: flex;
  align-items: center;
  gap: 8px;
}

.betChipDot {
  position: absolute;
  top: 2px;
  right: 2px;
  display: flex;
  flex-direction: row;
  gap: 2px;
  z-index: 2;
}
.betChipDot .dot {
  min-width: 18px;
  height: 18px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 900;
  color: #fff;
  box-shadow: 0 1px 4px rgba(0,0,0,0.18);
  border: 2px solid #fff2;
  margin-left: 2px;
}
.betChipDot .dot.red { background: #F72585; }
.betChipDot .dot.blue { background: #4CC9F0; }
.betChipDot .dot.green { background: #3ddc97; }

.betChipTotal {
  display: block;
  margin-top: 18px;
  font-size: 13px;
  font-weight: 900;
  color: var(--ok);
  text-align: center;
  letter-spacing: 0.02em;
}